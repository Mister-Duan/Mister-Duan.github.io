import{S as k,G as v,n as D,Z as A,_ as O,D as $,e as F,b as P,W as j,o as H,O as L,aD as W,T as q}from"./OrbitControls-BBsjXog2.js";import{G as C}from"./GLTFLoader-DVRYmqvW.js";import{S as z}from"./stats.module--VATS4Kh.js";import{_ as I}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as Z,c as J,r as G,a as M}from"./app-DhHZotwu.js";const R="/assets/yudi-Dx_rpAvz.png",l=4/3,_=-5,w=0,g=-25,K={__name:"example2",setup(B,{expose:h}){h();const a=new z,r=G(),o=new k,p=new C,u=new v;p.load("/assets/3d/工厂/工厂.gltf",function(e){o.add(e.scene)});const x=new D().load(R),S=new A({map:x}),d=new v;u.add(d);for(let e=0;e<200;e++){const n=new O(S);d.add(n),n.scale.set(1,1,1);const i=400*(Math.random()-.5),c=150*Math.random(),T=400*(Math.random()-.5);n.position.set(i,c,T)}const E=new W;o.add(u);const m=new $(16777215,.8);m.position.set(100*1,100*1,100*1),o.add(m);const b=new F(16777215,.4);o.add(b);const t=new P(30,l,1,3e3);t.position.set(-144*2,95*2,95*2),t.lookAt(_,w,g);const s=new j;s.outputColorSpace=H;const f=()=>{let e=r.value.getBoundingClientRect(),n=e.width,i=e.width*(1/l);s.setSize(n,i),t.aspect=l,t.updateProjectionMatrix()};M(()=>{f(),r.value.appendChild(s.domElement),r.value.appendChild(a.domElement),a.domElement.style.position="absolute",a.domElement.style.zIndex=0;const e=new L(t,s.domElement);e.target.set(_,w,g),e.update(),e.addEventListener("change",function(){s.render(o,t),console.log("camera.position",t.position)});function n(){a.update();const i=E.getDelta();d.children.forEach(c=>{c.position.y-=i*60,c.position.y<0&&(c.position.y=150)}),s.render(o,t),requestAnimationFrame(n)}n(),window.onresize=f});const y={stats:a,webglBoxRef:r,scene:o,loader:p,model:u,texture:x,spriteMaterial:S,group:d,clock:E,directionalLight:m,ambient:b,aspect:l,camera:t,x:_,y:w,z:g,renderer:s,setSize:f,get THREE(){return q},onMounted:M,ref:G,get GLTFLoader(){return C},get OrbitControls(){return L},get yudi(){return R},get Stats(){return z}};return Object.defineProperty(y,"__isScriptSetup",{enumerable:!1,value:!0}),y}},N={ref:"webglBoxRef",class:"relative"};function Q(B,h,a,r,o,p){return Z(),J("div",N,null,512)}const te=I(K,[["render",Q],["__file","example2.vue"]]);export{te as default};
