import{S as H,G as O,J as v,r as $,M as k,D as P,e as j,A as D,b as W,W as Y,O as y,T as q}from"./OrbitControls-Dn-176Si.js";import{G as L}from"./GLTFLoader-BkKialwA.js";import{S as A}from"./stats.module--VATS4Kh.js";import{_ as I}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as J,c as K,r as S,a as C}from"./app-Bz8Uc7w0.js";const d=4/3,N={__name:"line9",setup(B,{expose:_}){_();const r=new A,c=S(),t=new H,p=new L,G=new O;p.load("/assets/3d/地形.glb",function(e){t.add(e.scene);const o=e.scene.children[0],i=o.geometry.attributes.position,b=i.count,l=[];for(let s=0;s<b;s++)l.push(i.getY(s));l.sort();const x=l[0],R=l[l.length-1]-x,E=[],z=new v(255),M=new v(16711680);for(let s=0;s<b;s++){const F=(i.getY(s)-x)/R,m=z.clone().lerp(M,F);E.push(m.r,m.g,m.b)}const T=new Float32Array(E);o.geometry.attributes.color=new $(T,3),o.material=new k({vertexColors:!0})});const u=new P(16777215,1);u.position.set(100,60,50),t.add(u);const w=new j(16777215,2);t.add(w);const g=new D(100);t.add(g);const n=new W(35,d,1,3e3);n.position.set(500,500,500),n.lookAt(0,0,0);const a=new Y,f=()=>{let e=c.value.getBoundingClientRect(),o=e.width,i=e.width*(1/d);a.setSize(o,i),n.aspect=d,n.updateProjectionMatrix()};C(()=>{f(),c.value.appendChild(a.domElement),c.value.appendChild(r.domElement),r.domElement.style.position="absolute",r.domElement.style.zIndex=0;const e=new y(n,a.domElement);e.target.set(0,0,0),e.update(),e.addEventListener("change",function(){a.render(t,n)});function o(){r.update(),a.render(t,n),requestAnimationFrame(o)}o(),window.onresize=f});const h={stats:r,webglBoxRef:c,scene:t,loader:p,model:G,directionalLight:u,ambient:w,axesHelper:g,aspect:d,camera:n,renderer:a,setSize:f,get THREE(){return q},get GLTFLoader(){return L},onMounted:C,ref:S,get OrbitControls(){return y},get Stats(){return A}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},Q={ref:"webglBoxRef",class:"relative"};function U(B,_,r,c,t,p){return J(),K("div",Q,null,512)}const oe=I(N,[["render",U],["__file","line9.vue"]]);export{oe as default};
